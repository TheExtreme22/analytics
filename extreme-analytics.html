-<!DOCTYPE html>
<html>
<head>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-M2RNBSN8');</script>
<!-- End Google Tag Manager -->
<script>

// Variables to store the timestamps
var pageLoadTime;


function dlButton(elementId, ref, event, action) {
  
  const element = document.getElementById(elementId);
  if (element) {
    element.addEventListener('click', function() {
      eventTime = new Date().getTime();
      dataLayer.push({
     'elementId': elementId,
     'ref': ref,
     'event': event,
     'action': action,
     'process_start_time': pageLoadTime, 
     'duration': (eventTime-pageLoadTime)/1000
      });
    });
  }
}

function dlField(elementId, ref, event, action) {
  const element = document.getElementById(elementId);

  if (element) {
    // Variable to track whether the input box has been focused
    let hasBeenFocused = false;

    element.addEventListener('focus', function() {
      // Check if it's the first time the input box is focused
      if (!hasBeenFocused) {
        // Record the time when the input box is focused for the first time
        const eventTime = new Date().getTime();
        hasBeenFocused = true; // Mark as focused to prevent multiple recordings

        dataLayer.push({
          'elementId': elementId,
          'ref': ref,
          'event': event,
          'action': action,
          'process_start_time': pageLoadTime, 
          'duration': (eventTime - pageLoadTime) / 1000
        });
      }
    });
  }
}

 
function dlPage(elementId, ref, event, action) {
  pageLoadTime = new Date().getTime();
  // This event will trigger on page load
  window.addEventListener('load', function() {
    pageReadyTime = new Date().getTime();
    dataLayer.push({
     'elementId': elementId,
     'ref': ref,
     'event': event,
     'action': action,
     'process_start_time': pageLoadTime,
    'duration': (pageReadyTime-pageLoadTime)/1000
    });
  });
}

 dlPage('reg-displayed', 'reg/01', 'register', 'displayed');
 
</script>
</head>
<body>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-M2RNBSN8"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

 <p>V1.14 - with fields </p>

<h2>
  STEP 1
</h2>
  <label for="name">Email</label>
  <input type="text" id="reg-email" name="email" required minlength="8" maxlength="50" size="10" />
  <label for="name">Password</label>
  <input type="text" id="reg-password" name="password" required minlength="8" maxlength="50" size="10" />

<h2>
  STEP 2
</h2>
  <label for="name">First Name</label>
  <input type="text" id="reg-first_name" name="first_name" required minlength="8" maxlength="50" size="10" />
  <label for="name">Last Name</label>
  <input type="text" id="reg-last-name" name="last-name" required minlength="8" maxlength="50" size="10" />
  

  
<button class="register" id="reg-submit">Submit</button>
<button class="register" id="reg-close">Close</button>
<button class="register" id="reg-login">Log In</button>
<button class="register" id="reg-help">Help</button>
<button class="register" id="reg-success">Success</button>
 
</body>
</html>
